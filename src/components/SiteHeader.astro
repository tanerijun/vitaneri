---
import { twJoin } from "../utils/tw-join";

const navLinks = [
	{
		displayText: "Posts",
		url: "/posts",
	},
	{
		displayText: "Tags",
		url: "/tags",
	},
	{
		displayText: "TILs",
		url: "/tils",
	},
	{
		displayText: "Projects",
		url: "/projects",
	},
	{
		displayText: "About",
		url: "/about",
	},
];

const activePath = Astro.url.pathname.split("/")[1];
---

<header>
	<!-- Skip To Content -->
	<!-- Normally hidden, useful for screen reader or keyboard user -->
	<a
		id="skip-to-content"
		href="#main-content"
		class="top absolute -top-full left-16 z-50 bg-overlay p-2 text-text transition-all focus:top-4 focus:ring"
	>
		Skip to content
	</a>

	<div class="mx-auto flex max-w-7xl items-center justify-between py-6">
		<div id="site-logo">
			<a href="/">
				<span
					class="inline-block select-none bg-gradient-to-b from-text to-accent bg-clip-text font-heading text-3xl font-bold text-transparent hover:animate-mesh-background"
				>
					Vitaneri
				</span>
			</a>
		</div>

		<nav class="hidden items-center gap-6 md:flex">
			{
				navLinks.map((navLink) => {
					const isActive = "/" + activePath === navLink.url;

					return (
						<div class="relative">
							<a
								href={navLink.url}
								class={twJoin("font-heading text-sm hover:text-text md:text-base", isActive && "text-text")}
							>
								{navLink.displayText}
							</a>
							{isActive && <div id="marker" class="absolute h-0.5 w-full bg-accent" />}
						</div>
					);
				})
			}
		</nav>
	</div>
</header>
