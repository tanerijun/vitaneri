---
import type { CollectionEntry } from "astro:content";

type Props = {
	entries: Array<CollectionEntry<"posts">>;
	showYear?: boolean;
};

const { entries, showYear = false } = Astro.props;
---

<ul class="flex flex-col gap-3">
	{
		entries.map((entry) => {
			const displayDate =
				(showYear ? entry.data.datetime.getFullYear() + " " : "") +
				entry.data.datetime.toLocaleDateString("en-us", { month: "short", day: "2-digit" });

			return (
				<li class="text-zinc-700 transition-colors dark:text-zinc-300">
					<a href={`/posts/${entry.slug}`} rel="prefetch-intent">
						<div class="flex items-start gap-4 hover:text-zinc-950 dark:hover:text-white">
							<span class="min-w-[100px]">{displayDate}</span>
							<p transition:name={entry.slug}>{entry.data.title}</p>
						</div>
					</a>
				</li>
			);
		})
	}
</ul>
