---
import type { CollectionEntry } from "astro:content";
import { slugify } from "../lib/utils";

type Props = {
	entries: CollectionEntry<"posts">[];
	showYear?: boolean;
};

const { entries, showYear = false } = Astro.props;
---

<ul class="group flex flex-col gap-6">
	{
		entries.map((entry) => {
			const displayDate =
				(showYear ? entry.data.datetime.getFullYear() + " " : "") +
				entry.data.datetime.toLocaleDateString("en-us", { month: "short", day: "2-digit" });

			return (
				<a href={`/posts/${entry.slug}`}>
					<li class="text-zinc-600 transition-colors group-hover:text-zinc-500">
						<div class="flex items-start gap-4 hover:text-zinc-950" transition:name={slugify(entry.data.title)}>
							<span class="min-w-[100px]">{displayDate}</span>
							<p>{entry.data.title}</p>
						</div>
					</li>
				</a>
			);
		})
	}
</ul>
